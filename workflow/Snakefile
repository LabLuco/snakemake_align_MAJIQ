include: "rules/common.smk"
include: "rules/trimgalore.smk"
include: "rules/alignment.smk"
include: "rules/samtools_index.smk"
include: "rules/majiq_build.smk"
include: "rules/majiq_quantif_dpsi.smk"
include: "rules/majiq_quantif_psi.smk"
include: "rules/voila_tsv.smk"
include: "rules/tpmcalculator.smk"
include: "rules/getonlyES.smk"

report: "report/workflow.rst"

workdir: "scripts/"
rule all:
    input:
        expand('../../results/Voila/{exp1}_{exp2}.subsetES.tsv', exp1=config['Exp1'], exp2=config['Exp2']),
        expand('../../results/TPM/{id}/{id}_Aligned.out.sorted_transcripts.out',id = config['Samplesid']),
        expand('../../results/MAJIQ/PSI_{exp1}/{exp1}.psi.tsv',exp1=config['Exp1']),
        expand('../../results/MAJIQ/PSI_{exp2}/{exp2}.psi.tsv',exp2=config['Exp2'])


